<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Control de Camiones - PWA Offline</title>
<link rel="stylesheet" href="style.css"/>
<link rel="manifest" href="manifest.json"/>
</head>
<body>
<div id="login-screen" class="wrap">
<h1>ğŸš› Control de Camiones</h1>
<h3>Iniciar sesiÃ³n</h3>
<label>Usuario</label>
<input type="text" id="username"/>
<label>ContraseÃ±a</label>
<input type="password" id="password"/>
<button id="btnLogin" class="save">Entrar</button>
<span id="login-status"></span>
</div>
 
  <div id="app-screen" class="wrap" style="display:none">
<div class="top-bar">
<button id="btnLogout" class="ghost">Cerrar sesiÃ³n</button>
<span id="sync-status"></span>
</div>
 
    <!-- NAV TABS -->
<div class="tabs">
<button class="tabbtn active" data-tab="viajes">Viajes</button>
<button class="tabbtn" data-tab="camiones">Camiones</button>
<button class="tabbtn" data-tab="ubicaciones">Ubicaciones/Lotes</button>
</div>
 
    <!-- TAB VIAJES -->
<section id="tab-viajes" class="card">
<h3>ğŸ“‹ Registrar Viaje</h3>
<div class="row">
<div>
<label>Fecha</label>
<input id="fecha" type="date"/>
</div>
<div>
<label>CamiÃ³n</label>
<select id="camionSel"></select>
</div>
<div>
<label>Placa</label>
<input id="placa" readonly/>
</div>
<div>
<label>Origen</label>
<select id="origenSel"></select>
</div>
<div>
<label>Destino</label>
<select id="destinoSel"></select>
</div>
<div>
<label>Lote</label>
<select id="loteSel"></select>
</div>
<div>
<label>Salida</label>
<input id="salida" type="time"/>
</div>
<div>
<label>Llegada</label>
<input id="llegada" type="time"/>
</div>
</div>
<label>Observaciones</label>
<textarea id="obs" rows="2" placeholder="Notasâ€¦"></textarea>
 
      <div class="btns">
<button id="btnGuardar" class="save">Guardar</button>
<button id="btnLimpiar" class="ghost">Limpiar</button>
<button id="btnSync" class="sync">Sincronizar</button>
<button id="btnPDF" class="pdf">PDF</button>
</div>
 
      <div class="card">
<h3>Viajes Guardados (offline)</h3>
<table>
<thead>
<tr>
<th>Fecha</th><th>CamiÃ³n</th><th>Placa</th><th>Origen</th>
<th>Destino</th><th>Lote</th><th>Salida</th><th>Llegada</th><th>Obs</th><th>AcciÃ³n</th>
</tr>
</thead>
<tbody id="tbodyViajes"></tbody>
</table>
</div>
</section>
 
    <!-- TAB CAMIONES -->
<section id="tab-camiones" class="card" style="display:none">
<h3>ğŸšš CatÃ¡logo de Camiones</h3>
<div class="row">
<div>
<label>Nombre CamiÃ³n</label>
<input id="newCamion"/>
</div>
<div>
<label>Placa</label>
<input id="newPlaca"/>
</div>
</div>
<div class="btns">
<button id="btnAddCamion" class="save mini">Agregar</button>
</div>
<div class="card">
<table>
<thead><tr><th>CamiÃ³n</th><th>Placa</th><th>AcciÃ³n</th></tr></thead>
<tbody id="tbodyCamiones"></tbody>
</table>
</div>
</section>
 
    <!-- TAB UBICACIONES/LOTES -->
<section id="tab-ubicaciones" class="card" style="display:none">
<h3>ğŸ“Œ CatÃ¡logo de Ubicaciones / Lotes</h3>
<div class="row">
<div>
<label>UbicaciÃ³n</label>
<input id="newUbicacion"/>
</div>
<div>
<label>Lote</label>
<input id="newLote"/>
</div>
</div>
<div class="btns">
<button id="btnAddUbicacion" class="save mini">Agregar UbicaciÃ³n</button>
<button id="btnAddLote" class="save mini">Agregar Lote</button>
</div>
<div class="card">
<h4>Ubicaciones</h4>
<ul id="listaUbicaciones"></ul>
<h4>Lotes</h4>
<ul id="listaLotes"></ul>
</div>
</section>
 
  </div>
 
  <script src="db.js"></script>
<script src="app.js"></script>
<script>
    // Registrar service worker para PWA offline
    if('serviceWorker' in navigator){
      navigator.serviceWorker.register('service-worker.js')
      .then(()=>console.log('Service Worker registrado'))
      .catch(e=>console.error('SW error',e));
    }
</script>
</body>
</html>
